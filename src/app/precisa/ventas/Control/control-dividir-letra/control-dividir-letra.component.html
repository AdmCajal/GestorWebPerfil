<p-blockUI [blocked]="bloquearPag" [baseZIndex]="10000">
    <img src="assets\img\ZZ5H.gif" style="width: 5%">
</p-blockUI>
<p-dialog [(visible)]="dialog" [draggable]="false" [modal]="true" [resizable]="false" [breakpoints]="{'950px': '75vw'}"
    [style]="{width: '1350px'}" [header]="acciones" [position]="position" [maximizable]="true" [baseZIndex]="1000">
    <br>
    <p>Fraccionamiento de Letra</p>
    <p-table #dt [rows]="15" [paginator]="true" [rowHover]="true" dataKey="num" [value]="lstLetraY"
    [responsive]="true" [sortOrder]="1" sortField="num" 
    currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
    [rowsPerPageOptions]="[15, 50, 100]" [showCurrentPageReport]="true" [scrollable]="true" >
        <ng-template pTemplate="header">
          <tr>         
                <th pSortableColumn="num" class="label" ALIGN="center" style="width: 3rem;">Nro <p-sortIcon
                        field="num"> </p-sortIcon>
                </th>
                <th pSortableColumn="FechaVencimiento" class="label" ALIGN="center" style="width: 9rem; text-align: center">
                    Fecha de Vencimiento<p-sortIcon field="FechaVencimiento"></p-sortIcon>
                </th>
                <th class="label" pSortableColumn="Nombre" ALIGN="center" style="width: 7rem; text-align: center;">
                    Cuota<p-sortIcon field="Nombre"></p-sortIcon>
                </th>
                <th class="label" pSortableColumn="MontoTotal" ALIGN="center" style="width: 6rem; text-align: center;">
                    Monto<p-sortIcon field="MontoTotal"></p-sortIcon>
                </th>
                <th pSortableColumn="Observacion" class="label" ALIGN="center" style="width: 10rem; text-align: center;">
                    Observación<p-sortIcon field="Observacion"></p-sortIcon>
                </th>
                <th pSortableColumn="FechaPago" class="label" ALIGN="tablaHeaderFecha" style="width: 8rem; text-align: center;">
                    Fecha Pago<p-sortIcon field="FechaPago"></p-sortIcon>
                </th>
                <th pSortableColumn="DesEstado" class="label" ALIGN="center"
                style="width: 5rem; text-align: center;">Estado<p-sortIcon field="DesEstado"></p-sortIcon>
                </th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData>
        <tr>

            <td class="tablaColumnaCodigoChico text-center" style="width: 3rem;">
                <span class="p-column-title">Nro</span>
                {{ rowData.num}}
            </td>
            <td class="tablaColumnaCodigoChico text-center" style="width: 9rem; text-align: center;">
                <span class="p-column-title">Fecha Vencimiento</span>
                {{ rowData.FechaVencimiento | date : "dd/MM/yyyy" }}
            </td>
    
            <td  class="tablaColumnaCodigoChico text-center" ALIGN="center" style="width: 7rem;" >
                <span class="p-column-title">Cuota</span>
                {{ rowData.Nombre |uppercase  }}
            </td>
    
            <td class="tablaColumnaCodigoChico text-center" align="center" style="width: 6rem;">
                <span class="p-column-title">Monto</span>              
                <!-- Modo edición si el número es 1 -->
                <ng-container *ngIf="rowData.num === 1; else mostrarMonto">
                  <input
                    type="number"
                    [(ngModel)]="rowData.MontoTotal"
                    (input)="actualizarMonto(rowData)"
                    class="editable-monto"
                  />
                </ng-container>              
                <!-- Modo visual para otros casos -->
                <ng-template #mostrarMonto>
                  {{ rowData.MontoTotal | number:'1.2-2' }}
                </ng-template>
              </td>

            <td  class="tablaColumnaCodigoChico text-center" ALIGN="center" style="width: 10rem;" >
                <span class="p-column-title">Observacion</span>
                {{ rowData.Observacion |uppercase  }}
            </td>
    
            <td  class="tablaColumnaCodigoChico text-center" ALIGN="center" style="width: 8rem;" >
                <span class="p-column-title">FechaPago</span>
                {{ rowData.FechaPago | date : "dd/MM/yyyy" }}
            </td>
    
            <td class="tablaColumnaCodigoChico text-center" ALIGN="center" style="width: 5rem;" >
                <span class="p-column-title">Estado</span>
                {{ rowData.DesEstado |uppercase  }}
            </td>
        </tr>
    </ng-template>
    </p-table>
    <div class="col-sm-12">
        <p-button label="Fraccionar" icon="pi pi-save" styleClass="p-button-primary" [disabled]="puedeEditar"
        type="submit" (click)="coreFraccionar()"></p-button>
    </div>
</p-dialog>